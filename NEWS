NEWS for the R Package Luminescence

Changes in version 0.7.0 ( ,2016):

  New functions:

         • ‘analyse_FadingMeasurement()’: Analyse fading measurements
           to calculate g-values and to estimate the density of
           recombination centres.

         • ‘analyse_portableOSL()’: The function analyses CW-OSL curve
           data produced by a SUERC portable OSL reader and produces a
           combined plot of OSL/IRSL signal intensities, OSL/IRSL
           depletion ratios and the IRSL/OSL ratio.

         • ‘calc_Kars2008()’: A function to calculate the expected
           sample specific fraction of saturation following Kars et al.
           (2008) and Huntley (2006).

         • ‘calc_MeanDose()’: Function to calculate the Mean Dose and
           their extrinisc dispersion.

         • ‘calc_WodaFuchs2008()’: Function to obtain the equivalent
           dose using the approach proposed by Woda and Fuchs, 2008.

         • ‘PSL2Risoe.BINfileData()’: Converts an ‘RLum.Analysis’
           object produced by the function ‘read_PSL2R()’ to an
           ‘Risoe.BINfileData’ object.

         • ‘read_PSL2R()’: Imports PSL files produced by a SUERC
           portable OSL reader into R.

  New example data:

         • ‘ExampleData.fading’: Example data set for fading
           measurements of the IR50, IR100, IR150 and IR225 feldspar
           signals of sample UNIL/NB123. It further contains regular
           equivalent dose measurement data of the same sample, which
           can be used to apply a fading correction to. These data were
           kindly provided by Georgina King.

  Changes in S4-classes and methods:

         • Method ‘get_RLum’ for ‘RLum.Analysis’-objects did not
           respect ‘.pid’, fixed.

         • Method ‘get_RLum’ for ‘list’-objects now accepts lists with
           all kinds of ‘RLum’-objects. Previously, only lists of
           ‘RLum.Analysis’-objects were allowed.

         • ‘plot_RLum’ was not passing the argument ‘sub’, as it was
           fetched by the partial argument matching; fixed.

         • ‘set_RLum’ produced ‘NA’ as orignator, if the function
           calling the function ‘set_RLum()’ was called from outside of
           the package using the double colons (e.g.,
           ‘Luminescence::function()’); fixed.

  Bugfixes and changes:

         • ‘analyse_baSARL()’

             • Minor improvements and error corrections.

         • ‘analyse_SAR.CWOSL()’

             • Fix wrongly set threshold value for recuperation rate
               (#26).

         • ‘calc_AliquotSize()’

             • Console output can now be suppressed via 'verbose =
               TRUE' (#24).

         • ‘calc_CosmicDoseRate()’

             • Console output can now be suppressed via 'verbose =
               TRUE' (#24).

         • ‘calc_FastRatio()’

             • New arguments 'Ch_L2' and 'Ch_L3' to allow the user to
               specify custom values for channels L2 and L3. Feature
               requested by A. Versendaal (#29).

         • ‘calc_FadingCorr()’

             • Fixed a bug where the function would crash when
               providing an ‘RLum.Results’ object for ‘g_value’,

             • new argument ‘interval’ to control the age interval for
               solving the equation via ‘uniroot’.

         • ‘calc_FiniteMixture()’

             • Fixed a bug where certain arguments where not passed to
               `plot_RLum.Results` so that the plot was not as
               customisable as intended.  Thanks to Daniele Questiaux
               for reporting the bug.

         • ‘plot_DetPlot()’

             • Correct negative y-axis, the minimum is now the real
               minimum.

         • ‘plot_GrowthCurve()’

             • Reduce number of confusing warning,

             • add new argument ‘mode’ to select the calculation mode
               of the function.  This allows in particular to only fit
               data without calculating a De or calculating a De
               assuming an additive dose reponse curve,

             • account for the very specifc case that all dose points
               are similar. The function stops with an error and
               returns NULL.

         • ‘plot_RadialPlot()’

             • Sometimes the function crashed with an out of bonds
               error if more than one data set was provided; fixed,

             • argument ‘negatives’ caused an error if not set to
               ‘'remove'’ and fix some errors around this option,

             • De-adjustment for negative values optimised for large
               scatter.

         • ‘plot_RLum.Data.Spectrum()’

             • The interactive plot option was broken with the last
               update of the package 'plotly'; fixed.

         • ‘read_BIN2R()’

             • If BIN-files are automatically imported the function
               skipped non BIN-files without crashing if it is used in
               combination with the argument ‘pattern’,

             • add new argument ‘irgnore.RECTYPE’ to provide a solution
               for broken BIN-files are BIN-files with non documented
               entries. Furthermore the general behaviour for such
               cases had been optimised.

         • ‘template_DRAC()’

             • Fixed a typo in the column names (#28).

         • ‘use_DRAC()’

             • Now supports DRAC v1.2 and the newly introduced CSV
               input template.  Older v1.1 excel sheet input templates
               are still supported, but users are highly encouraged to
               use the new CSV file.

             • Columns in the output tables are now assigned proper
               classes (#27).

  Internals:

         • The internal function converting BIN-file curves to
           RLum.Data.Curve() objects had been optimised and, amongst
           others, now uses a function written using Rcpp to create the
           curve matrix.  The conversion now works ca. two times
           faster,

         • add ‘`[<-]`’ method for ‘RLum.Data.Curve’ objects,

         • a hint on how to cite a function is now added automatically
           to every major function manual page,

         • add 'magrittr' to the package dependencies (imports) to
           further support the usage of this amazing pipe operator,

         • thanks to Johannes Friedrich this release introduces regular
           unit tests using the package 'testthat' to improve the code
           quality and stability.

