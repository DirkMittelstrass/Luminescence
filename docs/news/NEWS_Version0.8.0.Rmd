---
title: "R Luminescence version > 0.8.0 </br> - Solid Mouse -"
author: "R Luminescence Team"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

Dear **R** Luminescence users!

Now we have 2018, and we are lifting our **R** package up to version 0.8.0 [CRAN](https://CRAN.R-project.org/package=Luminescence). We are thankful for all the helpful suggestions and comments we received over time. Although this major update comes with some new functions, we had focussed our efforts on stability and reliability. Below we render some highlights for you. For a full list of all changes, in particular, the bug fixes, please check the news on the CRAN webpage [here](https://cran.r-project.org/web/packages/Luminescence/news.html). 

```{r, echo = FALSE, message=FALSE}
library(Luminescence)
```

## What's new?

### New analysis functions

#### Tackle environmental dose rates 

Reliably estimating the environmental dose rate is an essential step in every luminescence dating process. The environmental gamma-dose can be either derived from the U, Th and K potassium concentration of the sediment subsamples in the laboratory or
in situ measurements in the field. Laboratory measurements tend to become unreliable in cases the 
infinite matrix dose assumption does not hold, e.g., due to sedimentary inhomogeneities. In situ 
measurements with passive dosimeters, such as  alpha-Al$_{2}O_{3}:C, offer an alternative. 
To ease the data processing needed for such analyses we developed three new **R** functions: 

* `analyse_Al2O3C_ITC()`
* `analyse_Al2O3C_CrossTalk()`
* `analyse_Al2O3C_Measurement()`

Details on the usage of the function and a working example are shipped as package vignette with this 
release.

#### Sureface exposure dating 

* `fit SurfaceExposure()` @tzerk

#### Another age model?

The minimum age model by Woda and Fuchs (2008) is one of the very few proposed dose models which had been not yet included in the package. 
The idea behind based on the approach by Lepper & McKeever (2002) to determine the dose which is representative of the age of the deposit by 
using the Gaussian equation to fit the data. The approach by Woda and Fuchs (2008) refines this model by 
fixing the centre of the Gaussian equation to reach a more robust fitting. 
How it works? See below for a running example:

```{r, fig.align='center', fig.width=5}
## read example data set
data(ExampleData.DeValues, envir = environment())

## run calculation
results <- calc_WodaFuchs2008(
  data = ExampleData.DeValues$CA1,
   xlab = expression(paste(D[e], " [Gy]"))
 )
```

#### Helper functions 

Sometimes it is the small things that make the difference and ease your life. In this release, 
we included two helper functions you certainly don't need every day, but you may value them the time you someday. 

1. `convert_Activity2Concentration()`

Gamma-spectrometry measurement results are sometimes provided in 'Bq/kg' instead of the 'ppm', which is 
usual reported in the context of luminescence dating. This function helps to quickly transform 
the numbers: 

```{r}
##construct data.frame
data <- data.frame(
 NUCLIDES = c("U-238", "Th-232", "K-40"),
 VALUE = c(40,80,100),
 VALUE_ERROR = c(4,8,10),
 stringsAsFactors = FALSE)

##perform analysis
convert_Activity2Concentration(data)
```

* 2. `convert_RLum2Risoe.BINfileData()`

To date, the package supports a large variety of measurement formats and treats them similar internally. 
This approach allows you to mix and merge data from different sources. However, someday in the future, one colleague, who is not using **R**, 
will ask you for measurement data in the BIN/BINX-file 
format. However, once data were imported into **R**, there is no back; until today! 
The new function `convert_RLum2Risoe.BINfileData()` allows you to export your `RLum.Analysis` 
objects to BIN/BIN-files and to share them with your colleagues. How, it could not be easier: 

```{r, eval = FALSE}
data(ExampleData.RLum.Analysis, envir = environment())
convert_RLum2Risoe.BINfileData(IRSAR.RF.Data, file = "your/path/output.BIN")
```


# References {-}

Lepper, K., McKeever, S.W.S., 2002. An Objective Methodology For Dose Distribution Analysis. Radiation Protection Dosimetry 101, 349-252.
[doi: 10.1093/oxfordjournals.rpd.a005999](https://doi.org/10.1093/oxfordjournals.rpd.a005999)

Woda, C., Fuchs, M., 2008. On the applicability of the leading edge method to obtain equivalent doses in OSL dating and dosimetry. 
Radiation Measurements 43, 26-37.[doi: 10.1016/j.radmeas.2007.12.006](http://dx.doi.org/10.1016/j.radmeas.2007.12.006)
